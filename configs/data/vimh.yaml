_target_: src.data.vimh_datamodule.VIMHDataModule
data_dir: ${paths.root_dir}/data/vimh-cifar100-like
batch_size: 128 # Needs to be divisible by the number of devices (e.g., if in a distributed setup)
num_workers: 0 # Set to 0 for MPS compatibility (multiprocessing not supported on MPS)
pin_memory: False # MPS cannot pin memory as of this writing
persistent_workers: False # Set to False when num_workers=0 (no workers to persist)
prefetch_factor: 4 # Number of batches to prefetch per worker (helps reduce I/O wait)
cache_dataset: true # Cache entire dataset in RAM (16MB easily fits in 128GB)
