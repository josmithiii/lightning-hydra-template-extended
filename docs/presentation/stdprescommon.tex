% FIXME: Unify with stdcommon.tex by creating
% ./stdreallycommon.tex
% and including it both here and there.

% \batchmode

% ------------------------ graphics -----------------------

% Workaround for l2h-2K1 bug (incompatible with graphics package
% resulting in images.tex lines with null arguments to includegraphics, e.g.,
%       \includegraphics[]{eps/file.eps}
%powerdot:\usepackage[dvips]{graphicx}
%powerdot: jos: why was this commented out on 1/26/2010?:
\graphicspath{{./eps/}{./fig/}} 

% Alternate workaround (according to l2h email) 
% = revert to older /l/l2h/styles/graphics.perl:
%\usepackage[dvips]{graphics}

\usepackage{subfigure} % New 4/2/05

% ------------------------ index -----------------------

\usepackage{makeidx} % I don't like the HTML version of this (keyword AND target title)

% ------------------------ Misc -----------------------

\usepackage{latexsym} % for \Box, \Diamond etc. See p. 42-43 of Lamport
\usepackage{calc} % e.g., in mdftp/complex-problems.tex

% Package order before 9/13/02 was 
%   makeidx,html,latexsym,boxedminipage, hyperref
% However, html needs to go after hyperref, in principle.
% BUT, then \url{} doesn't work, and \泔礤秕狍躅戾篌轸轶躞邃骑铒鳜戾臾铒黠蝌徕秕怛镫孱扉铍轭心矧躅黩狃疱汜痿轱铙轭翳滔譬翳轭翳扉铍翳狒南黠螂秕赭彘玷翳祜篝汜痿轱铙痨躞麇汜忮泔礤盹蝈驷黹扉狎鏖翳翳聃轵塍镦棂疱蝌彐舷杏泔铘孱趔扉铄铒祜铉弪黩狃吁痧蝈篌轭棂疱蝌彐骘铒鳟娱钽泔眄孱孱霎溴骈铄轭梏盱篝矧溴轶蝈鲥螋邃梏盱荃箦疳汶徵妍梏盱乞镯绎篌惋矧搴吁痧矧趔觑犷荥觑怩铒荥觑モ彗轭灬翦镱禊茴鬻泔眄犷潲荑繇灬滗铒蝽犰扉铍骘雉五髁猩鄄蓰１苕镲纛雉妍荑繇祯蜢２ュ钿灬翦镱禊乞镯绎篌惋矧搴吁痧矧趔觑犷荥觑廖荥觑疹骘螋躅狒屐н眭篝蜗忮聃雉邃狍嘬擐モ彗轭灬翦镱禊茴鬻泔眄犷潲荇弩趑殪溴郾蓰荛骧茯屐狲１茯屐狲茴镥疳钿苠祗遘铒屮疳钿荥１苕辇茯孱鬻泔眄犷潲荑繇灬滗铒蝽犰扉铍骘雉鄄蓰１茆珧秕茕彐茴镥疳钿\let\\testtilde
   \edef\next{\egroup \def\noexpand\thisurl{#2}}\next
  \expandafter\footnote\expandafter{\expandafter\htmlurl\expandafter
    {\thisurl}}}}

%\renewcommand{\htmladdnormallink}[2]{#1}

%end{latexonly}

%\renewcommand{\textunderscore}{_} % Needed when above is used

% ------------------------ hyperref -----------------------
\begin{comment} % NOT COMPATIBLE WITH pdfetex USING OPTIONS BELOW
                % Error = ``missing \begin{document}''
\usepackage[
%	\latexhtml{dvips}{latex2html},
	dvips,
	linktocpage, % link only page number in TOC (dvips does not support breaking links across lines)
% said to be obsolete now:
%       latex2html,
	bookmarks,
        hidelinks, % REQUIRED 2019-11-12 to prevent links being buried under block of color (html.sty must go AFTER this or edited)
        % colorlinks=false, % not enough to bypass above bug
        % colorlinks=true, % how to make gray?
	bookmarksopen=true, %open all bookmark folders
%	bookmarksnumbered, %use section numbers with bookmarks
 	pdfpagemode=UseOutlines, %show bookmarks
	pdfstartview={FitV 0}
%       pdfstartview={FitV \hypercalcbp{\oddsidemargin+1in}}
%	\Acrobatmenu{GoBack}{$\Longleftarrow$}
%	\Acrobatmenu{FitWidth}{$\Longleftrightarrow$}
%	\Acrobatmenu{FitPage}{$\updownarrow$}
%	\Acrobatmenu{GoForward}{$\Longrightarrow$}
	]{hyperref}
\end{comment}

% hyperref defines \slabel in connection with subequation labels,
% which I don't use.  (See /usr/share/texmf/tex/latex/hyperref/nameref.sty )
% If ever we need them, must rename \slabel
% to \seclabel or something like that.
%\renewcommand{\slabel}[1]{\label{sec:#1}} % doesn't work
%\providecommand{\thesubequation}{} % CHANGE \slabel to \seclabel !!

% ------------------------ multicol -----------------------

\usepackage{multicol} % See p. 76 of LaTeX Companion
\setlength{\columnseprule}{0.4pt}
\setlength{\columnsep}{10pt} % plus 1000pt}

% ------------------------ boxes -----------------------

%begin{latexonly}
\usepackage{boxedminipage} % See p. 277 of LaTeX Companion
%\usepackage{tex4ht} % See LaTeX Web Companion
%end{latexonly}
%NOTE:
%Package fancybox INCOMPATIBLE WITH TABLE OF CONTENTS in ``Article'' mode.
%(causes only the word ``Contents'' to appear)
%This is a KNOWN BUG! See /usr/share/texmf/tex/latex/misc/fancybox.sty
%It does not seem to strike in book mode.
%See stdfigs-*.tex / \newenvirontment{code}... for where we need it.
%Working around it results in code-figure captions PRECEDING the code figure.
%\usepackage{fancybox} % VerbatimEnvironment (see p. 278 of LaTeX Companion)

% SELECT FONT
%\renewcommand{\familydefault}{cmss}
%%\renewcommand{\familydefault}{grarial}

% ========== DEFAULT CASE =============
%! IEEE STYLE, SORTED BY AUTHOR:
% joscv comments this out:
%ASA25:
%\bibliographystyle{ieeetrsort} % refs420, refs421, all books, etc.
% WARNING: When this is commented out, books will have empty footnode.html files

% THIS CAN NO LONGER BE HERE BECAUSE IT DEPENDS ON A TOGGLE:
%% \iftoggle{paper}{%
%% \message{*** Using IEEE Reference format ***}
%% \bibliographystyle{ieeetr} % Normal IEEE Transactions (in order of citation)
%% }{
%% }

%\def\dodoi#1{doi: \href{https://doi.org/#1}{\nolinkurl{#1}}}
%\bibliographystyle{jasaauthyear2} % JASA
%\bibliographystyle{jasanum2} % JASA

% Standard IEEE STYLE: SORTED BY DATE:
%!\bibliographystyle{ieee} % Faculty Report
%\newcommand{\citename}[1]{#1} % needed with article.sty

% Other Bibliography and citation styles:
%TEMP\usepackage{apalike}
%TEMP\bibliographystyle{apalike}

%\bibliographystyle{cmj}
%\newcommand{\citename}[1]{#1} % needed to use cmj.bst with article.sty

%begin{latexonly}
\newcommand{\makenavtoc}{}
%end{latexonly}
\begin{htmlonly}
\newcommand{\makenavtoc}{
{\bfseries Detailed Contents (and Navigation)}
\tableofchildlinks
}
\end{htmlonly}


\begin{latexonly}
\hyphenation{wave-guide wave-guides im-ped-ance arc-tangent re-verb-er-a-tion pro-posed sin-u-soid proj-ect-ion exp-on-ent-ially comp-u-ta-tion-al sin-u-soid-al-ly damp-ers dif-fers amp-li-tude band-limited band-limit dis-crete}
\end{latexonly}

%defined in stddefs.tex
%\newcommand{\ccrmahomepage}[2]{\htmladdnormallink{#1}{http://ccrma.stanford.edu/#2}}

%begin{latexonly}
\newcommand{\josemail}{\texttt{jos@ccrma.stanford.edu}}
%end{latexonly}
\begin{htmlonly}
\newcommand{\josemail}{jos at ccrma} % {http://www.w3k.org/cgi-bin/register.cgi?email\_jos}
\end{htmlonly}

\newcommand{\Comment}[1]{}
% \renewcommand{\Comment}[1]{\emph{$\ll$ COMMENT: #1$\gg$}}
\providecommand{\rmk}[1]{\emph{$\ll$ REMARK: #1 $\gg$ }}
\providecommand{\fixme}[1]{\emph{$\ll$ FIXME: #1$\gg$}}
%\newcommand{\rmk}[1]{}
%\newcommand{\fixme}[1]{}

\makeindex

%\providecommand{\isdeftext}{\buildrel{\lower5pt\mbox{\scriptscriptstyle\mathrm{\Delta}}}}\over{\scriptstyle=}}
\providecommand{\isdeftext}{\mathrel{\stackrel{\scriptscriptstyle\mathrm{\Delta}}{\scriptstyle=}}}
\providecommand{\isdef}{\mathrel{\stackrel{\mathrm{\Delta}}{=}}}
\providecommand{\isdefs}{\;\isdef\;}
\providecommand{\eqsp}{\;=\;}
%Absurd in lecture overheads in which current fontsize is huge:
% \providecommand{\isdef}{\buildrel\mbox{\tiny $\Delta$}\over=}

% Chapter label and index entry: Due to l2h bug, these
% must be defined only when chapters are actually used.
% See ./stdbookhdr.tex

% For referring to itemized list items:
\newcommand{\ilabel}[1]{\label{item:#1}}
\providecommand{\iref}[1]{\ref{item:#1}}

% Specifically for problems ( = items ):
\newcommand{\plabel}[1]{\label{item:#1}}
\providecommand{\pref}[1]{Problem\ref{item:#1}}
\newcommand{\ppageref}[1]{page\pageref{item:#1}}
\providecommand{\ppref}[1]{\pref{#1}\latex{\ on \ppageref{#1}}}
% FIXME: We would prefer a hyperlink in the HTML case:
\providecommand{\sppref}[1]{\latex{\ (see \ppref{#1})}}
\providecommand{\Sppref}[1]{\latex{(See \ppref{#1}.)}}

% section label and index entry
\newcommand{\seclabel}[1]{\label{sec:#1}}
\newcommand{\slabel}[1]{\label{sec:#1}} % deprecated (used by hyperref)
\newcommand{\kslabel}[2]{\seclabel{#1}\index{#2|textbf}}
%\newcommand{\kslabel}[2]{\index{\protect\label{index#1}#2|textbf}}
%%\newcommand{\kslabel}[2]{\label{sec:#1}{\index{{\bfseries #2}}}}

% \ksection{slabel}{index entry}{title}
% USAGE: \ksection{delayeffects}{delay effects}{Delay Effects}
%JOS:TEMP HACK:\newcommand{\ksection}[3]{\section{#3}\seclabel{#1}\index{#2|textbf}}
%GETS EXTRA <BR>:\newcommand{\ksection}[3]{\section{#3}\index{#2|textbf}}
\newcommand{\ksection}[3]{\section{#3}\seclabel{#1}}
\newcommand{\ksectionalt}[4]{\section[#4]{#3}\seclabel{#1}\index{#2|textbf}}

% subsection label and index entry
\newcommand{\sslabel}[1]{\label{sec:#1}}
\newcommand{\ksslabel}[2]{\sslabel{#1}\index{#2|textbf}}
%\newcommand{\ksslabel}[2]{\sslabel{#1}\index{\protect\label{index#1}#2|textbf}}
% \ksubsection{sslabel}{index entry}{title}
% USAGE: \ksubsection{delayeffects}{delay effects}{Delay Effects}
\newcommand{\ksubsection}[3]{\subsection{#3}\seclabel{#1}\index{#2|textbf}}
\newcommand{\ksubsectionstar}[2]{\subsection*{#2}\index{#1|textbf}}
\newcommand{\ksubsectionalt}[4]{\subsection[#4]{#3}\seclabel{#1}\index{#2|textbf}}
\newcommand{\ksubsubsection}[3]{\subsubsection{#3}\seclabel{#1}\index{#2|textbf}}
\newcommand{\ksubsubsectionalt}[4]{\subsubsection[#4]{#3}\seclabel{#1}\index{#2|textbf}}
% vpsace & noindent added 2/10/04:
\newcommand{\ksubsubsectionstar}[2]{\vspace{\baselineskip}\noindent\subsubsection*{#2}\index{#1|textbf}}
% vpsace & noindent added 2/10/04:
%DON'T USE *subsubsub* BECAUSE IT LOOKS BAD AND ISN'T NEEDED.  JUST USE MORE *subsub* (not in contents)
%\newcommand{\ksubsubsubsection}[3]{\vspace{\baselineskip}\noindent\subsubsubsection{#3}\seclabel{#1}\index{#2|textbf}}

%NEED TO STRIP OUT BLANKS:\newcommand{\kdef}[1]{\emph{#1}\index{\label{index#1}#1}}
\newcommand{\kemph}[1]{\emph{#1}\index{#1}} % secondary ``usage''
\newcommand{\kdef}[1]{\emph{#1}\index{#1|textbf}}  % primary definition
\newcommand{\kdefl}[2]{\emph{#1}\index{#1}} % Arg 2 = ``level''
	% Levels: hs = highschool
\newcommand{\kdefprepend}[2]{\emph{#2}\index{#1#2}} 
\newcommand{\kdefappend}[2]{\emph{#1}\index{#1#2}} 
\newcommand{\kdefne}[1]{#1\index{#1}} 
\newcommand{\addindex}[1]{#1\index{#1}} % will not change, kdefne might
\newcommand{\kdefneq}[1]{\index{#1}} 
\newcommand{\kdefq}[1]{\index{#1|textbf}} 
\newcommand{\kdefgeneral}[2]{#1\index{#2}} 
%Usage: \kdef[ models]{lumped} => \emph{lumped}\index{lumped models}
\newcommand{\xkdef}[2][]{\emph{#2}\index{#1#2}}
\newcommand{\kindex}[1]{\index{#1}} % CHANGE TO \krefiq
\newcommand{\kwish}[1]{#1\message{*** Please define '#1' somewhere ***}}
\newcommand{\kwishq}[1]{\message{*** Please define '#1' somewhere ***}}
\newcommand{\kref}[1]{#1}
\newcommand{\krefe}[1]{\emph{#1}}
%
% If cannot ignore non-bold indices in l2h:
%\newcommand{\krefi}[1]{#1}
%\newcommand{\krefiq}[1]{}
%\newcommand{\krefei}[1]{\emph{#1}}
\newcommand{\krefi}[1]{#1\index{#1}}
\newcommand{\krefiq}[1]{\index{#1}}
\newcommand{\krefei}[1]{\emph{#1}\index{#1}}
%
\newcommand{\ksetcontext}[1]{\fixme{How to set K context?}}

% knolink - Inhibit linking - FIXME: HTML is correct but appdict does not prevent links
\newcommand{\knolink}[1]{\html{\begin{rawhtml}<NOLINKS>\end{rawhtml}}#1\html{\begin{rawhtml}</NOLINKS>\end{rawhtml}
}}

%DON'T USE *subsubsub* BECAUSE IT LOOKS BAD AND ISN'T NEEDED.  JUST USE MORE *subsub* (not in contents)
%\providecommand{\subsubsubsection}[1]{\vspace{2pt}\textbf{#1.\ }\relax}
\providecommand{\hlink}[1]{\htmladdnormallink{#1}{#1}}

%2/7/03/jos: \newcommand{\credit}[1]{\latexhtml{\footnotetext{#1}}{(#1)}}
%begin{latexonly}
\newcommand{\credit}[1]{\footnotetext{#1}}
%end{latexonly}
\begin{htmlonly}
\newcommand{\credit}[1]{(#1)}
\end{htmlonly}

\newcommand{\titlecredit}[1]{\latex{\thanks{#1}}}

% Problem: l2h gets fouled up on \BIT, use of \providecommand may be why.
% See ``filters'' at CCRMA: 
%	http://ccrma.stanford.edu/jos/filters/Minimum_Phase_MP.html

\newcommand{\BITI}{\begin{itemize}[type=0]}
\newcommand{\pitem}{\pause\item}
\newcommand{\BIT}{\begin{itemize}[type=1]}
%\renewcommand{\BIT}{\begin{itemize}[type=1]}
\newcommand{\EIT}{\end{itemize}}
\newcommand{\BNUM}{\begin{enumerate}[type=1]}
\newcommand{\ENUM}{\end{enumerate}}
\newcommand{\bnum}{\begin{enumerate}}
\newcommand{\enum}{\end{enumerate}}

% Compact versions

%begin{latexonly}
\newcommand{\BITC}{\begin{list}{$\bullet$}{\itemsep0pt\parsep0pt}} 
%\newcommand{\BITC}{\begin{list}{$\bullet$}{\itemsep0pt\parsep0pt\topsep0pt}} 
\newcommand{\EITC}{\end{list}}
% INSTEAD, USE \BITC \item[1.] ... ETC.:
\newcommand{\BNUMC}{\begin{enumerate}\itemsep0pt\parsep0pt} % DOES NOT WORK
\newcommand{\ENUMC}{\end{enumerate}}
%end{latexonly}

\begin{htmlonly}
\newcommand{\BITC}{\BIT}
\newcommand{\EITC}{\EIT}
\newcommand{\BNUMC}{\BNUM}
\newcommand{\ENUMC}{\ENUM}
\end{htmlonly}

% Moved here from stdmath.tex 1/18/00
%9/13/02/jos: fouls hyperref: \newcommand{\eref}[1]{Eq.(\protect\ref{eq:#1})}
\newcommand{\eref}[1]{Eq.(\ref{eq:#1})}
\newcommand{\epageref}[1]{page\pageref{eq:#1}}
\newcommand{\epref}[1]{\eref{#1}\latex{ on \epageref{#1}}}
% eqn range:
\newcommand{\erefs}[2]{Equations(\protect\ref{eq:#1}--\ref{eq:#2})}
\newcommand{\Eref}[1]{Equation (\protect\ref{eq:#1})}
\newcommand{\Erefs}[2]{Equations(\protect\ref{eq:#1}--\ref{eq:#2})}
\newcommand{\elabel}[1]{\protect\label{eq:#1}}

% Abbreviations used in jos.bib:
%
% Terse versions:
%	\newcommand{\Appl}{Appl.}
%	\newcommand{\Trans}{Trans.}
%	\newcommand{\Int}{Int.}
%	\newcommand{\Journal}{J.}
%	\newcommand{\JournalOfThe}{J.}
%	\newcommand{\JournalP}{J.}
%	\newcommand{\Lab}{Lab.}
%	\newcommand{\Eng}{Eng.}
%	\newcommand{\Elec}{Elec.}
%	\newcommand{\Soc}{Soc.}
%	\newcommand{\Proc}{Proc.}
%	\newcommand{\Conf}{Conf.}
%	\newcommand{\ConfOn}{Conf.}
%	\newcommand{\Tech}{Tech.}
%	\newcommand{\Symp}{Symp.}
%	\newcommand{\Dept}{Dept.}
%	\newcommand{\Ama}{Amer.}
%	\newcommand{\SocOf}{Soc.\ of}
%	\newcommand{\Acoust}{Acoust.}
%
% Expanded versions:
	\newcommand{\Appl}{Applications of}
	\newcommand{\Trans}{Transactions on}
	\newcommand{\Int}{International}
	\newcommand{\Journal}{Journal of the}
	\newcommand{\JournalOfThe}{Journal of the}
	\newcommand{\JournalP}{Journal}
	\newcommand{\Lab}{Laboratory}
	\newcommand{\Eng}{Engineering}
	\newcommand{\Elec}{Electrical}
	\newcommand{\Soc}{Society}
	\newcommand{\Proc}{Proceedings of the}
	\newcommand{\Conf}{Conference}
	\newcommand{\ConfOn}{Conference on}
	\newcommand{\Tech}{Technical}
	\newcommand{\Symp}{Symposium}
	\newcommand{\Dept}{Department}
	\newcommand{\Ama}{America}
	\newcommand{\SocOf}{Society of}
	\newcommand{\Acoust}{Acoustical}

% The following should be deleted, but wgt still uses them,
% and possibly others as well.
% 
% \newcommand{\OS}{OppenheimAndSchafer}
% \newcommand{\BB}{Belevitch}
% \newcommand{\DK}{DesoerAndKuh}
% \newcommand{\MW}{McIntyreF}
% \newcommand{\RG}{RabinerAndGold}
% \newcommand{\LS}{LjungAndSoderstrom}
% \newcommand{\MI}{MorseAndIngard}
% \newcommand{\Jaffe}{JaffeAndSmith83}
% \newcommand{\SRCICA}{SmithAndGossett84}
% \newcommand{\JOSTSTANM}{STAN--M--14}
% \newcommand{\VDPS}{VanDuynePierceAndSmithWDH}

\newcommand{\qsp}{\ } % So reformatting paragraphs don't give \cr

\newcommand{\work}{article}  % was website
\newcommand{\thing}{section} % was home page
\newcommand{\smileyface}{$(\stackrel{\mbox{.\,.}}{\smile})$}

% Figure references
\providecommand{\fref}[1]{Fig.\,\ref{fig:#1}}
\providecommand{\fbref}[1]{Fig.\,\ref{figboth:#1}}
\providecommand{\fpageref}[1]{page\pageref{fig:#1}}
\providecommand{\fpref}[1]{\fref{#1}\latex{ on \fpageref{#1}}}
\providecommand{\Fref}[1]{Figure\ref{fig:#1}}
\providecommand{\Fbref}[1]{Figure\ref{figboth:#1}}
\providecommand{\Fbpref}[1]{\Fbref{#1}\latex{ on \fpageref{#1}}}
\providecommand{\Fpref}[1]{\Fref{#1}\latex{ on \fpageref{#1}}}
\providecommand{\frefs}[2]{Figures\ref{fig:#1} and \ref{fig:#2}}
\providecommand{\Frefs}[2]{Figures\ref{fig:#1} and \ref{fig:#2}}
\providecommand{\frefss}[3]{Figures\ref{fig:#1}, \ref{fig:#2}, and \ref{fig:#3}}
\providecommand{\frefr}[2]{Figures\ref{fig:#1} through \ref{fig:#2}}
\providecommand{\Frefr}[2]{Figures\ref{fig:#1} through \ref{fig:#2}}

% Code-listing references
\providecommand{\clabel}[1]{\label{code:#1}}
\providecommand{\cref}[1]{Fig.\,\ref{code:#1}}
\providecommand{\crefs}[2]{Figures\ref{code:#1} and \ref{code:#2}}
\providecommand{\Cref}[1]{Figure\ref{code:#1}}
\providecommand{\crefr}[2]{Figures\ref{code:#1} through \ref{code:#2}}
\providecommand{\cpageref}[1]{page \pageref{code:#1}}
\providecommand{\cpref}[1]{\cref{#1}\latex{\ on \cpageref{#1}}}
\providecommand{\Cpref}[1]{\Cref{#1}\latex{\ on \cpageref{#1}}}

% Section references (see also \kslabel)
%needed?\providecommand{\secref}[1]{\S\ref{sec:#1}}
\providecommand{\sref}[1]{\S\protect\ref{sec:#1}}
\providecommand{\spageref}[1]{page \pageref{sec:#1}}
\providecommand{\spref}[1]{\sref{#1}\latex{\ on \spageref{#1}}}
\providecommand{\Sref}[1]{Section\ref{sec:#1}}
\providecommand{\Spref}[1]{\Sref{#1}\latex{\ on \spageref{#1}}}
\providecommand{\ssref}[1]{Subsection \ref{sec:#1}}
\providecommand{\srefs}[2]{Sections\ref{sec:#1} and \ref{sec:#2}}
\providecommand{\Srefs}[2]{Sections\ref{sec:#1} and \ref{sec:#2}}

% Chapter references (see also \kchlabel)
% Nice idea but l2h gets it wrong (renewcommand has no effect):
%\providecommand{\chref}[1]{\thing\ref{chap:#1}}
%\providecommand{\Chref}[1]{\thing\ref{chap:#1}}
\providecommand{\chref}[1]{Chapter\ref{chap:#1}}
\providecommand{\chrefs}[2]{Chapters\ref{chap:#1} and \ref{chap:#2}}
\providecommand{\Chref}[1]{Chapter\ref{chap:#1}}
\providecommand{\chlabel}[1]{\label{chap:#1}} % set chapter label
\providecommand{\chpageref}[1]{page \pageref{chap:#1}}
\providecommand{\chpref}[1]{Chapter\ref{chap:#1}\protect\latex{\ starting on \chpageref{#1}}}

\newcommand{\kappendix}[3]{\chapter{#3}\alabel{#1}\index{#2|textbf}}
\newcommand{\kappendixalt}[4]{\chapter[#4]{#3}\alabel{#1}\index{#2|textbf}}
\providecommand{\aref}[1]{Appendix\ref{app:#1}}
\providecommand{\Aref}[1]{Appendix\ref{app:#1}}
\providecommand{\arefs}[2]{Appendices\ref{app:#1} and \ref{app:#2}}
\providecommand{\alabel}[1]{\label{app:#1}}
\providecommand{\apageref}[1]{page \pageref{app:#1}}
\providecommand{\apref}[1]{Appendix\ref{app:#1}\protect\latex{\ starting on \apageref{#1}}}

\newcommand{\Tref}[1]{Table \ref{table:#1}}
\newcommand{\tref}[1]{Table \ref{table:#1}}
\providecommand{\tpageref}[1]{page \pageref{table:#1}}
\providecommand{\tpref}[1]{\tref{#1}\latex{\ on \tpageref{#1}}}

\newcommand{\ds}[1]{\downarrow\!\!#1} % downsampler symbol
\newcommand{\us}[1]{\uparrow\!\!#1} % upsampler symbol

% kchlabel(label,indexentry): 
%   Make chapter label from arg1 and issue ``important'' index entry for arg2
%This version sets the label (arg1) to the anchor for the index entry itself:
\newcommand{\kchlabel}[2]{\chlabel{#1}\index{\protect\label{index#1}#2|textbf}}
%In this version, the index entry gets a randomly generated anchor, as does its target. :-(
%\newcommand{\kchlabel}[2]{\chlabel{#1}\index{\protect\label{index#1}#2|textbf}}
% \kchapter{chlabel}{index entry}{title}
% USAGE: \kchapter{delayeffects}{delay effects}{Delay Effects}
\newcommand{\kchapter}[3]{\chapter{#3}\chlabel{#1}\index{#2|textbf}}
\newcommand{\kchapteralt}[4]{\chapter[#4]{#3}\chlabel{#1}\index{#2|textbf}}

\newcommand{\parinset}{}
%\newcommand{\parinset}{\newline\hspace*{1em}\hangindent=\the\parindent}
%\newcommand{\parinset}{\newline\hspace*{1em}}
%\newcommand{\parcenterline}[1]{[PARCENTERLINE TEMPORARILY SUPPRESSED]}
\newcommand{\parcenterline}[1]{\newline\centerline{#1}}

% === toggles for book vs. local website / lecture overheads / course reader 
% The default is book mode.  Each lecture or reader needs to 'renew' these:

\newcommand{\localonly}[1]{}  % suppress references to local courses, e.g.
\newcommand{\bookonly}[1]{#1} % book only; override in lechdr.tex
\newcommand{\leconly}[1]{} % lecture overheads (or reader) only (not book)
\newcommand{\lcite}[1]{\cite{#1}} % Suppress citation for lecture overheads
\newcommand{\lcitepp}[2]{\cite[#2]{#1}}
\newcommand{\lecbook}[2]{#2}  % Choose #1 in lecture or course reader

% === BOXES AROUND THINGS ===

% \mybox
% **** 9/22/05: THE BOX CUTS THROUGH THE TEXT! USE \quotebox INSTEAD ***
%USAGE: \mybox{w}{text_text_text_text}
% where w defines the width of the box (e.g. w=80em).
%begin{latexonly}
\newcommand{\mybox}[2]{
% Contributed by Thomas Icking:
\fbox{\begin{minipage}[c]{#1}
\vspace{-1em} % Why is this needed?
#2
\end{minipage}}
}
%end{latexonly}
\begin{htmlonly}
\newcommand{\mybox}[2]{
\[  % Math mode added 11/29/04
#2
\]
} % no box, sorry
\end{htmlonly}

\newcommand{\quotenobox}[1]{\begin{quote}#1\end{quote}}
% These both fail:
%\newcommand{\quotebox}[1]{\mybox{\captionwidth}{#1}}
%\newcommand{\quotedbox}[1]{\begin{quote}\mybox{0.82\textwidth}{#1}\end{quote}}
\newcommand{\quotedbox}[1]{\quotebox{#1}\message{Change quotedbox to quotebox}}

\providecommand{\zbox}[1]{\ensuremath{\fbox{$\displaystyle #1$}}}
\newcommand{\quoteboxfracw}[2]{\quotedzbox{\parbox{#1\textwidth}{#2}}}
\newcommand{\quotebox}[1]{\quotedzbox{\parbox{0.8\textwidth}{#1}}}

%\begin{latexonly}
\newcommand{\quotedzbox}[1]{\begin{quote}\zbox{#1}\end{quote}}
%\end{latexonly}
\begin{htmlonly}
\newcommand{\quotedzbox}[1]{ % PROBLEM: MUST FIT ON ONE LINE
\begin{quote}
#1
\end{quote}
}
\end{htmlonly}

%DO NOT DEFINE sectionstar, chapterstar, etc., as L2H USES THESE NAMES
%\newcommand{\sectionstar}[1]{\section{\latexonly{($\ast$)\ }#1}}

\providecommand{\solution}[1]{} % Include solutions or not
%\newcommand{\solution}[1]{\par\textbf{Solution: }#1} % Include solutions or not

\newcommand{\solutionsee}[2]{\par\textbf{Solution:} See 
\htmladdnormallink{\texttt{http://ccrma.stanford.edu/\觑蟑２梏麴函沣蝽岙篝犷骘蜾邃醑荥觑蟑２序镡戾痫轭趔茴鬻泔眄犷潲荇黠瘕茴鬻泔眄犷潲荇黠疱茴鬻泔眄犷潲荇栩邋瘕茴鬻泔眄犷潲苕秕蝠茴鬻泔眄犷潲苕轹屦茴鬻泔眄犷潲苕疱茴鬻泔眄犷潲荇孱瘕茴鬻泔眄犷潲苕麴茴鬻泔眄犷潲苕殒翦孱瘕茴鬻泔眄犷潲荏弼孱瘕茴鬻泔眄犷潲荇黟茴鬻泔眄犷潲荇麇铘瘕茴鬻泔眄犷潲荇麈瘕茴鬻泔眄犷潲荇栝螋瘕茴鬻泔眄犷潲苕殒豉瘕茴鬻泔眄犷潲荀椠荑狒茱礤玑テ韶团ノ邋骒躞桢蜷玷艉ツ镥铒黠螂ㄨ骈祆麸篌邃┖茴鬻泔眄犷潲苠耢徕屐郾蓰荑骈祆荑怙ǎ暴ピ屙痫蜥蝙箫祯糸镱茴鬻泔眄犷潲苠耢徕屐郾蓰ピ屙痫蜥蝙攘盟茴鬻泔眄犷潲苠耢徕屐郾蓰荞聃徜荑怙ǎ暴茴鬻泔眄犷潲荛妪荇屮糸酐楫瀹茴鬻泔眄犷潲苌妪荇屮糸酐僧瀹茴鬻泔眄犷潲芘琮荇屮糸酐女绠茴鬻泔眄犷潲苠琮荇屮糸酐瀹绠茴鬻泔眄犷潲茔纨荇屮糸酐惝娈茴鬻泔眄犷潲荟辁荇屮糸酐鲩茴鬻泔眄犷潲茭辇摞饼茴鬻泔眄犷潲茭眙摞昌茴鬻泔眄犷潲苠觑札遛贶镯彗札茴鬻泔眄犷潲苠黻镌遛贶镯彗札茴鬻泔眄犷潲茉妄ま荑怙荇轭荇屮趔沱酝茴鬻泔眄犷潲芤妄ま荑怙荏泸轲趔辁遘汩蜚戾引茴鬻泔眄犷潲茔轵沆逡荇屮翥轵沆邃荇轭引粕钦遗篝蹑渝犰箫篝滏殓螵翦茴鬻泔眄犷潲茼狲桢殓梏懂甸铨钦庞优摹荇屮翳彘玷茴鬻泔眄犷潲荀狍箦鲥铋铨荇屮赭殇翳茴鬻泔眄犷潲荀狍箝疰轹彘铨荇屮赭殇翳麽甸茴鬻泔眄犷潲荀狍箝轭荇屮赭殇翳麽串甸茴鬻泔眄犷潲荀狍骛骈铨撮铨茴鬻泔眄犷潲荀狍骈鲥轭钞甸铨茴鬻泔眄犷潲荀狍骘躜疰轹彘铨钞甸铨茴鬻泔眄犷潲荀狍骘躜轭抽铨茴鬻泔眄犷潲荀狍翳蝈屦骈鲥轭伯返轭茴鬻泔眄犷潲荀狍翳蝈彘铨伯驳轭茴鬻泔眄犷潲荏磲祆礅秫郾蓰茼怙荏磲祆１骘翦茴鬻泔眄犷潲荏磲祆礅秫智郾蓰茼怙莒狎珏１骘戾泗躜秭弪桢徜茴鬻泔眄犷潲芷韶团郾蓰茼弩筢珏１耘托攘盟ボ铄縻镯磲钿桁轭臊鄄蓰荑繇灬滗铒蝽犰扉铍１２ボ铄縻镯磲钿桁轭腈鄄蓰荑繇灬滗铒蝽犰扉铍骘雉１２茴鬻泔眄犷潲苠箦泗轱铨郾蓰荏邈糸镱１ボ铄縻镯磲钿苠箦泗轱铨荏邈糸镱砒弪汩箦簖茴鬻泔眄犷潲莒徕箦泗轱铨郾蓰荏邈糸镱１ボ铄縻镯磲钿莒徕箦泗轱铨荏邈糸镱提怙蜥麸蝙砒弪汩箦茴鬻泔眄犷潲苠篚怏邈糸镱郾蓰荏踱箦泗轱瞠１茴鬻泔眄犷潲莒徕篚怏邈糸镱郾蓰荏踱箦泗轱瞠１茴鬻泔眄犷潲茜蜥潺茴徕灬珧徜殄铘簌礅镬茴鬻泔眄犷潲茜蜥漩荃钿弪扉铄茜蜥潺珧徜殄铘簌礅镬狍鲥泗矧茴鬻泔眄犷潲茜镲珈弩遽蜚椠鄄蓰荇屮趑酐秋镧戾箦狎汨荑繇灬滗铒蝽犰扉铍荇屮糸酐１２浇浇浇浇浇浇浇浇棂疱蝌彐心列浇浇浇浇浇浇浇浇田汜ㄦ矧灬痿镳觑箢弭惝┖ボ蝈铄縻镯磲钿荏秕钿疳翳蝻雉郾蓰蟑ボ蝈铄縻镯磲钿莛灬沩潺蝓詈痨狴扉铛ㄤ镥翳轶黠螂骘篚蝈咯ボ蝈铄縻镯磲钿莛灬沩潺蝓詈组钿秣翦篝邃犷黠螂螬庆镡犰鲥蝮轱ㄦ矧痫篝邃心镱狎忾趄狎麇怏轸弩┖莛蝻鲩溴泔眄犷潲荏秕钿疳翳蝻雉郾蓰梏麴函沣蝽岙篝犷骘蜾邃醑觑蟑蜗耘亠南铄邃翳趄衢扉铉箪狍徕秭滹瞌腩秣麒莛蝻鲩溴泔眄犷潲莛灬沩潺牾篝躞忉蝈找态铒噜泔眄犷洄浇浇浇浇浇浇浇浇棂疱蝌彐心列浇浇浇浇浇浇浇浇茴鬻泔眄犷潲荀狯疳翳郾蓰荏秕钿疳翳蝻雉麽霪１麽鳊茴鬻泔眄犷潲茚殒骛狒椠郾蓰荏秕钿疳翳蝻雉衢骀１衢骀茴鬻泔眄犷潲茼痿疳翳郾蓰荏秕钿疳翳蝻雉眇朝１眇除茴鬻泔眄犷潲荏秕钿疳翳郾蓰荏秕钿疳翳蝻雉眇朝１眇除茴鬻泔眄犷潲荏秕钿屮犴痨妪鄄蓰１荑蝈纣莛灬沩滠麽鲳狒棼２ㄗ林茼弩筢珏浇剑伯麽霁荑蝈纣莛灬沩滠眇麴狒棼２ㄍ谐茴鬻泔眄犷潲荏秕钿屮犴痨遽殒骓痿鄄蓰１荑蝈纣莛灬沩滠衢骀疳翳２辽破茼弩筢珏浇剑伯衢骀荑蝈纣莛灬沩滠眇麴狒棼２ㄍ谐茴鬻泔眄犷潲荏秕钿屮犴痨鬻狯眇酏鄄蓰１荑蝈纣莛灬沩滠麽鲳狒棼２ㄗ林茼弩筢珏浇剑伯麽霁荑蝈纣莛灬沩滠眇麴狒棼２ㄍ谐茴鬻泔眄犷潲荏秕钿屮犴痨鬻狯鄄蓰荑蝈纣莛灬沩荀狯疳翳２１茼弩筢珏浇剑伯麽霁茴鬻泔眄犷潲荏秕钿屮犴痨鬻狯鏖翳疳翳鄢蓰荑蝈纣莛灬沩３２麽鳊１茴鬻泔眄犷潲荏秕钿屮犴痨遽殒纨鄄蓰荑蝈纣莛灬沩茚殒骛狒棼２１茼弩筢珏浇剑伯衢骀茴鬻泔眄犷潲荏秕钿屮犴痨屙痿鄄蓰荑蝈纣莛灬沩茼痿疳翳２１茼弩筢珏浇剑伯眇倡茴鬻泔眄犷潲荏秕钿屮犴痨屙痿鏖翳疳翳鄢蓰荑蝈纣莛灬沩３２眇除１梏盱篝列茆彗轭泔眄孱酏茴鬻泔眄犷潲荏秕钿屮犴痨妪鄄蓰１荑繇灬滗铒蝽犰扉铍ㄗ林荀狯疳翳２茼弩筢珏浇剑伯麽霁荑繇灬滗铒蝽犰扉铍ㄍ谐茼痿疳翳２茴鬻泔眄犷潲荏秕钿屮犴痨遽殒骓痿鄄蓰１荑繇灬滗铒蝽犰扉铍辽破茚殒骛狒棼２茼弩筢珏浇剑伯衢骀荑繇灬滗铒蝽犰扉铍ㄍ谐茼痿疳翳２茴鬻泔眄犷潲荏秕钿屮犴痨鬻狯眇酏鄄蓰１荑繇灬滗铒蝽犰扉铍ㄗ林荀狯疳翳２茼弩筢珏浇剑伯麽霁荑繇灬滗铒蝽犰扉铍ㄍ谐茼痿疳翳２茴鬻泔眄犷潲荏秕钿屮犴痨鬻狯鄄蓰荑繇灬滗铒蝽犰扉铍１荀狯疳翳２茼弩筢珏浇剑伯麽霁茴鬻泔眄犷潲荏秕钿屮犴痨遽殒纨鄄蓰荑繇灬滗铒蝽犰扉铍１茚殒骛狒棼２茼弩筢珏浇剑伯衢骀茴鬻泔眄犷潲荏秕钿屮犴痨屙痿鄄蓰荑繇灬滗铒蝽犰扉铍１茼痿疳翳２茼弩筢珏浇剑伯眇倡苠钿泔眄孱酏茴鬻泔眄犷潲苡运簖苡运茴鬻泔眄犷潲苡运荑繇灬滗铒蝽犰扉铍荇屮趑酐釉她梏麴函沣蝽岙篝犷骘蜾邃醑妹彝怜语骠麽蝈釉睡茴鬻泔眄犷潲苡运骖荑繇灬滗铒蝽犰扉铍骘雉荇屮趑酐釉她梏麴函沣蝽岙篝犷骘蜾邃醑妹彝怜语骠麽蝈釉睡茴鬻泔眄犷潲荏綦沆狍簖郾蓰荑繇灬滗铒蝽犰扉铍荇屮趑酐１梏麴函沣蝽岙篝犷骘蜾邃醑箫骠麽蝈篝氙沆狍螅碑梏盱茴鬻泔眄犷潲荏綦沆狍箧镲酏郾蓰荑繇灬滗铒蝽犰扉铍骘雉荇屮趑酐１梏麴函沣蝽岙篝犷骘蜾邃醑箫骠麽蝈篝氙沆狍螅碑梏盱茴鬻泔眄犷潲茚祆疳篌骈祠弪骘雉荑繇灬滗铒蝽犰扉铍骘雉犰祓狍骈祠弪梏麴函沣蝽岙篝犷骘蜾邃醑觑蟑骈祠弪蟑领祓狍筮崎祠弪螽梏盱茴鬻泔眄犷潲茼滏翩镲酏苕镲纛雉妍荑繇灬滗铒蝽犰扉铍荇屮趑酐梏麴函沣蝽岙篝犷骘蜾邃醑荥觑蟑礓骠梏麴函沣蝽岙篝犷骘蜾邃醑荥觑蟑礓骠茴鬻泔眄犷潲荏綦轭趄镦镲酏苕镲纛雉妍荑繇灬滗铒蝽犰扉铍荇屮趑酐梏麴函沣蝽岙篝犷骘蜾邃醑荥觑蟑疳箴清趑轭畿哂翎螋邃苓御铘桢箝筌咴镲飚梏盱梏麴函沣蝽岙篝犷骘蜾邃醑荥觑蟑疳箴清趑轭邕郁狎翦溥御铘桢箝筮燥镬梏盱澡轶镱玳鲥泔蝌邈豉疱箦趑轭轭心狍麇祆狍黠螂轭心扉铍ㄈ酝磲忮铒艨┊疹溴蜮狎眭篝忮聃雉邃麒殪糸熹眭篝蜗忮聃雉邃蜗躺闻乱帕擞撂滔着晌找腆翳妁眭篝骈镱镱扉铄┖茴鬻泔眄犷潲苕镲趱蜢郾蓰苕镲纛雉妍荑繇祯蜢１荞躏翦漪殪溴箬秕熹忮躞邃衔藤轭翳斌狎珲礤铘麸荑繇灬滗铒蝽犰扉铍骘雉犷荑繇灬滗铒蝽犰扉铍轸箬秕熹玳鲥狍溴箝蝈骘心痱轭糸铉南庞蜗紫宜晌差烈钦团卧掀荑繇灬滗铒蝽犰扉铍骘雉骘心躺嗡眭篝躞痨衢翳弪荥滹弩铒黠螂彘翳弪骘心扉铍螬茆狎弭殪溴昧挝显屡沼拍漉麸觳怩轭栳钿扉铉麻忪轱珧狃栝弩翳狒蝈篚祠轭箴徙徭翦翳М澡黠螂狎秕钿轶麸蝈犰禊豉疱忉蝈糸熹轭翳忾孱趄茆狎弭殪溴尤险棠忮翳蜷玷翳轭轭翳差狎珲礤铘麸荑繇灬滗铒蝽犰扉铍骘雉犷荑繇灬滗铒蝽犰扉铍茴鬻泔眄犷潲茼翦趑殪溴茔栳蜞荥溴痱邈狒邃茴鬻泔眄犷潲荞躏翦漪殪溴茔栳蜞荥闻钺礤冕铑雉躞轭忾忪轱珧狃棂孱趄殄觳怩绌茴鬻泔眄犷潲茆狎弭殪溴

\newcommand{\planetccrma}{Planet CCRMA} % Let OD link it (have popup)
\newcommand{\planetccrmafoot}{Planet CCRMA\footnote{\htmladdnormallink{\texttt{http://ccrma.stanford.edu/planetccrma/software/}}{http://ccrma.stanford.edu/planetccrma/software/}}}
\newcommand{\planetccrmalink}{Planet CCRMA distribution (\htmladdnormallink{\texttt{http://ccrma.stanford.edu/planetccrma/software/}}{http://ccrma.stanford.edu/planetccrma/software/})}
\newcommand{\faustlabstr}[1]{\htmladdnormallinkfoot{#1}{http://ccrma.stanford.edu/realsimple/faust/}}

%\newcommand{\Cpp}{\textsc{C}{\small $++$}}
%\newcommand{\Clang}{\texttt{C}}
%\newcommand{\Cpp}{\texttt{C++}}
%\newcommand{\Clang}{\textsc{C}}
%\newcommand{\Cpp}{\textsc{C++}}
\newcommand{\Clang}{C}
\newcommand{\Cpp}{C++}
\newcommand{\pd}{\texttt{pd}}
\providecommand{\docyear}{2009} % in case not defined

\newcommand{\Faust}{\textsc{Faust}}
\newcommand{\Faustsp}{\Faust{} }
\newcommand{\faust}{\textsc{Faust}} % NEEDED for jos.bib which downcases
\newcommand{\faustsp}{\Faust{} }

%\newcommand{\beqnopt}{\[}
%\newcommand{\eeqnopt}{\]}
\newcommand{\beqnopt}{\beqn}
\newcommand{\eeqnopt}{\eeqn{}}

% New from sasp/fftfb.tex
\newcommand{\tx}[1]{\texttt{#1}}

\providecommand{\incldate}[1]{#1}
%\providecommand{\incldate}[1]{}

\newenvironment{contentsmall}{\small}{}
